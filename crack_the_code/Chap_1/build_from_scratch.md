---
layout: default
title: Build prelude from scratch
---
## [](#header-2) Build from scratch

Prelude requires about 26G disk space for compilation, comparing to ~160G for the whole Chromium project. Follow the steps below to build Prelude from scratch.


### [](#header-3) 1.  Checkout the code

```
git clone https://github.com/xzwang2005/Prelude.git
```

>git may seem like hanging after printing the line:
```
Resolving deltas: 100% (21062/21062), done.
```
but it's actually working. Give it a minute to finish.

### [](#header-3) 2.  Generate build targets with *gn*

Chromium is built with [Ninja](https://ninja-build.org/), a cross-platform build system similar to CMake. You don't need to know much about Ninja in order to build Chromium, because its input files are generated by a higher-level system called *gn*, which stands for *generate ninja*. There are hundreds of files named "BUILD.gn" scattered in Chromium sources; *gn* takes in these files and spit out Ninja build files. Then Ninja takes over (see next step) and start the actual building process. More examples on *gn* will be provided in later posts.

To get started with *gn*, open a console window and go to Prelude directory you just cloned in last step, type:

```
gn gen out/debug --args="enable_precompiled_headers=false use_jumbo_build=true"
```

This command creates a folder *out/debug* under the root directory, with files containing all the build information:
*   gn arguments - args.gn
*   ninja build files - build.ninja, toolchain.ninja etc.
*   environment setup files - environment.x64 etc.
*   dll files (Windows only)

>*enable_precompiled_headers* must be set to *false* as shown above. Currently, clang does not work with Visual Studio v15.5.x headers when precompile is enabled. This is a [known issue](https://bugs.chromium.org/p/chromium/issues/detail?id=780124) with no fix planned. Official Chrome build probably still use Visual Studio v15.4.x with SDK v10.0.15063.0, which does not have this problem. *use_jumbo_build=true* helps speed up the compile process.

### [](#header-3) 3.  Build the targets using *ninja*

```
ninja -C out/debug
```
It's expected to see some clang-specific warnings from a WTL sample project. Details will be provided in later sections.
